<html lang="de">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <title>DARIO PWA</title>
  </head>
  <body>
    <!--
    <p><button onclick="getStream()">Grab video</button></p>
<p><video autoplay style="height: 180px; width: 240px;"></video></p>
<p><button onclick="takePhoto()">Take Photo!</button></p>
<p><img id="imageTag" width="240" height="180"></p>
-->
<!--
<video autoplay style="height:180px; width: 240px;"></video>
<p><button onclick="getStream()">Grab Video!</button></p>
<p><button onclick="takePhoto()">Take Photo!</button></p>
<p><button onclick="download()">Safe to Cache!</button></p>


<p><img src ="" id="imageTag" width="410" height="340"></p>
<h3>Image which is stored in Cache!</h3>
<p><img src="" id="tableBanner" width="410" height="340"/></p>


<script>
  var dataImage = localStorage.getItem('imgData');
bannerImg = document.getElementById('tableBanner');
bannerImg.src = "data:image/png;base64," + dataImage;
</script>
-->
<!--
<button id="askButton">Ask for location</button>
<div id="target"></div>

<table>
  <tr>
    <td>Tilt Left/Right [gamma]</td>
    <td id="doTiltLR"></td>
  </tr>
  <tr>
    <td>Tilt Front/Back [beta]</td>
    <td id="doTiltFB"></td>
  </tr>
  <tr>
    <td>Direction [alpha]</td>
    <td id="doDirection"></td>
  </tr>
</table>
-->
<p>Estimated storage usage is <b id="usage">unknown</b> bytes.</p>
<p>Estimated storage quota is <b id="quota">unknown</b> bytes.</p>
<p>Estimated usage is <b id="percent">unknown</b>%.</p>
<p>Persistent storage status is <b id="persisted">unknown</b>.</p>
<!--
<p><button onclick="requestPersistence()">Request persistent storage</button></p>
-->
<!--
<div class="columns">
  <div class="column">
    <button class="btn-file">
      Choose some files to read<br>(File API) <input type="file" onchange="readFiles(this.files)" multiple>
    </button>
    
    <p>Number of selected files: <b id="count">N/A</b></p>
  </div>
-->
  <p>
    <button onclick="readContacts()">Read Contacts</button>
  </p>
  <pre id="log"></pre>
  <input type="file" id="asText">
  <textarea id="textbox" cols="50" rows="10"></textarea>
  <p><button id="save">Save!</button></p>
  <script>
    window.onload = function() {
    const asText = document.getElementById('asText');
    const textbox = document.getElementById('textbox');

    asText.addEventListener('change', function(e) {
        const file = asText.files[0];
        const textType = /text.*/;

        if (file.type.match(textType)) {
            const reader = new FileReader();

            reader.onload = function(e) {
                textbox.innerText = reader.result;
            }

            reader.readAsText(file);    
        } else {
            textbox.innerText = "Dateityp nicht unterst√ºtzt";
        }
    });
  }
  document.getElementById("save").addEventListener("click", function ()
    {
        var user = document.getElementById("textbox").value ;
        localStorage.setItem("user", user) ;
        console.log("Text is saved");
        console.log(localStorage.getItem("user"));
    } , false);
  </script>
<script src="js/app.js"></script>
</body>
</html>